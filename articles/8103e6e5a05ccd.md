---
title: "ã€Flutterã€‘`flutter_adaptive_scaffold`ã‚’åˆ©ç”¨ã—ãŸãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ"
emoji: "ğŸ–¥ï¸"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: [Flutter,Dart]
published: false
---

ã“ã®è¨˜äº‹ã¯ã€Qiitaã® [Flutter Advent Calendar 2023](https://qiita.com/advent-calendar/2023/flutter) ã‚·ãƒªãƒ¼ã‚º2 ã®14æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚

ä»–ã®æ–¹ã®è¨˜äº‹ã‚‚ãœã²ã”è¦§ãã ã•ã„ï¼

æ˜¨æ—¥ï¼š
æ˜æ—¥ï¼šComing Soon...

---

ç§ãŒFlutterã‚’ã¯ã˜ã‚ãŸã‚­ãƒƒã‚«ã‚±ã¯ã€ãªã‚“ã¨ã„ã£ã¦ã‚‚**ã‚¯ãƒ­ã‚¹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ **ãŒé­…åŠ›çš„ã ã£ãŸã‹ã‚‰ã§ã™ã€‚
ã¯ã˜ã‚ãŸå½“æ™‚ã®å¯¾å¿œãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã¯ãƒ¢ãƒã‚¤ãƒ« + Web(Î’)ã§ã—ãŸãŒã€ä»Šã§ã¯Webã‚‚æ­£å¼å¯¾å¿œã•ã‚ŒDesktopã«ã‚‚å¯¾å¿œã—ã¦ã„ã¾ã™ã€‚

ã—ã‹ã—ã€ãƒ¢ãƒã‚¤ãƒ«ã«æ¯”ã¹ã‚‹ã¨Webã‚„Desktopã®æ¡ç”¨äº‹ä¾‹ã¯ã¾ã å°‘ãªã„å°è±¡ãŒã‚ã‚Šã¾ã™ã€‚

ã€Œ**å°‘ãªã„æ‰‹é–“ã§å¤šãã®ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã«å¯¾å¿œãŒè¡Œãˆã‚‹**ã€ã“ã¨ã¯ã¨ã¦ã‚‚é­…åŠ›çš„ã ã¨æ€ã„ã¾ã™ã€‚

ãã“ã§ä»Šå›ã¯ã‚¯ãƒ­ã‚¹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ å¯¾å¿œã®ç¬¬ä¸€æ­©ã¨ã—ã¦ã€ç”»é¢ã‚µã‚¤ã‚ºã«å¿œã˜ãŸãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œã«ã¤ã„ã¦ã€
[flutter_adaptive_scaffold](https://pub.dev/packages/flutter_adaptive_scaffold)ã‚’åˆ©ç”¨ã—ã¦å¯¾å¿œã™ã‚‹æ–¹æ³•ã‚’ã¾ã¨ã‚ã¦ã„ãã¾ã™ã€‚

## ğŸ¤”**Responsive**ã¨**Adaptive**ã®é•ã„ã«ã¤ã„ã¦

ã¾ãšã¯Flutterã«ãŠã‘ã‚‹ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œã«ã¤ã„ã¦ã‚«ãƒ³ã‚¿ãƒ³ã«è§¦ã‚ŒãŸã„ã¨æ€ã„ã¾ã™ã€‚

ã‚ˆãè€³ã«ã™ã‚‹**ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³**ã¨**ã‚¢ãƒ€ãƒ—ãƒ†ã‚£ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³**ã®é•ã„ã«ã¤ã„ã¦ã€è‰²ã€…ãªã‚µã‚¤ãƒˆã§ã‚‚è§£èª¬ã•ã‚Œã¦ã„ã¾ã™ã€‚
Flutterã®å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã‚‚è¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹ã®ã§ã€Flutterã«ãŠã‘ã‚‹ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œã¯ã“ã¡ã‚‰ã‚’å‚è€ƒã«ã—ã¾ã™ã€‚

https://docs.flutter.dev/ui/layout/responsive/adaptive-responsive

å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚„å‹•ç”»ã¨ã‚ã‚ã›ã¦ã€
@kira_pukaã•ã‚“ãŒã‚ã‹ã‚Šã‚„ã™ãè¨˜äº‹ã«ã¾ã¨ã‚ã‚‰ã‚Œã¦ã„ãŸã®ã§ã€ã“ã¡ã‚‰ã‚‚ãœã²ã”è¦§ä¸‹ã•ã„ã€‚

https://www.memory-lovers.blog/entry/2023/07/14/134219

> **Responsive(é©å¿œæ€§)**
> ç”»é¢ã‚µã‚¤ã‚º/ãƒ‡ãƒã‚¤ã‚¹ã®å‘ãã«å¿œã˜ã¦ã€
> é©åˆ‡ãªã‚µã‚¤ã‚ºãƒ»ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã«ã™ã‚‹
>
> **Adaptive(å¿œç­”æ€§)**
> ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã ã‘ã§ãªãã€ãƒ‡ãƒã‚¤ã‚¹ã®å…¥åŠ›æ–¹æ³•(ã‚¿ãƒƒãƒ/ãƒã‚¦ã‚¹/ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰)ãªã©ã«å¿œã˜ã¦ã€
> é©åˆ‡ãªè¦–è¦šå¯†åº¦(visual density)ã‚„ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãªã©ã®UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’åˆ©ç”¨ãªã©ã‚‚å«ã‚€ã€‚

## `flutter_adaptive_scaffold`ã®åˆ©ç”¨

å‰è¿°ã—ãŸãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã‚‚è¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹é€šã‚Šã€
ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œã¯`MediaQuery`ã‚„`Layoutbuilder`ãªã©ã€Flutteræ¨™æº–ã®æ©Ÿèƒ½ã‚’ç”¨ã„ã¦è‡ªä½œã—ã¦ã„ãã“ã¨ã‚‚ã§ãã¾ã™ã€‚

ã§ã™ãŒã€ä»Šå›ã¯ä»Šå¾Œã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã‚‚æœŸå¾…ã—ã¦å…¬å¼ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®`flutter_adaptive_scaffold`ã‚’åˆ©ç”¨ã—ã¦ä½œæˆã—ã¦ã„ãã¾ã™ã€‚

https://pub.dev/packages/flutter_adaptive_scaffold

ã“ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¯[Material Designã®ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³](https://m3.material.io/foundations/layout/applying-layout/window-size-classes)ã«è¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã«ã€å½¹ç«‹ã¤WidgetãŒç”¨æ„ã•ã‚Œã¦ã„ã¾ã™ã€‚

### ğŸ“ªãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ - NavigationBar, NavigationRail

ã‚¢ãƒ—ãƒªã®ä¸»è¦ãªæ©Ÿèƒ½ã«å¯¾ã™ã‚‹ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ç®¡ç†ã™ã‚‹æ©Ÿèƒ½ã§ã™ã€‚

ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³[^1]ã§ã¯ã€**æ©Ÿèƒ½ x ç”»é¢ã‚µã‚¤ã‚º**ã«å¿œã˜ã¦é©ã—ãŸã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒè¨˜è¼‰ã•ã‚Œã¦ã„ã¾ã™ã€‚

![æ©Ÿèƒ½xç”»é¢ã‚µã‚¤ã‚ºåˆ¥ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¡¨](/images/8103e6e5a05ccd/Commonswappablecomponents.png)

ä»Šå›ã¯`NavigationBar`ã‚’ä¾‹ã«å¯¾å¿œã—ã¾ã™ã€‚

**NavigationBar** (BottomNavigation)

- ã‚¿ãƒƒãƒ—æ“ä½œãŒã—ã‚„ã™ã„ã‚ˆã†ã«ç”»é¢ä¸‹éƒ¨ã«è¡¨ç¤º
- é·ç§»å…ˆã®æ•°ã¯3~5å€‹ã®ç¯„å›²

**NavigationRail**

- ç”»é¢å´é¢ã«è¡¨ç¤ºã•ã‚Œã‚‹ãŸã‚ã€ãƒ‡ã‚¶ã‚¤ãƒ³ã®çµ±ä¸€æ€§ãŒã§ã‚‹
- é·ç§»å…ˆã®æ•°ã¯3~7å€‹ã®ç¯„å›² + FABãªã©ã‚’å«ã‚ã‚‹ã“ã¨ã‚‚ã§ãã‚‹

![NavigationBarã¨NavigationRail](/images/8103e6e5a05ccd/NavigationBar_Rail.png)

#### ğŸ§‘â€ğŸ’»å®Ÿè£…

ã¾ãšã€ã‚¢ãƒ—ãƒªã®ä¸»è¦ãªæ©Ÿèƒ½ã«å¯¾ã™ã‚‹ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ°¸ç¶šåŒ–ã—ã¾ã™ã€‚

å½“è¨˜äº‹ã®å†…å®¹ã‹ã‚‰å¤–ã‚Œã¦ã—ã¾ã†ã®ã§ã€å®Ÿè£…æ–¹æ³•ã¯å‰²æ„›ã—ã¾ã™ã€‚
å…¬å¼ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®`go_router`ã‚’åˆ©ç”¨ã—ã¦ã„ã¾ã™ã®ã§ã€å…¬é–‹ã—ãŸã‚³ãƒ¼ãƒ‰ã‹å…¬å¼ã®ã‚µãƒ³ãƒ—ãƒ«ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’å‚ç…§ä¸‹ã•ã„ã€‚

https://github.com/flutter/packages/blob/main/packages/go_router_builder/example/lib/stateful_shell_route_example.dart

`NavigationBar`ã¨`NavigationRail`ã®åˆ‡ã‚Šæ›¿ãˆã¯ã€`AdaptiveScaffold`ã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã§æ„è­˜ã›ãšã«å®Ÿè£…ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

:::details AdaptiveScaffoldã‚’åˆ©ç”¨ã—ãŸåˆ‡ã‚Šæ›¿ãˆ

```dart
@override
Widget build(BuildContext context) {
  // é·ç§»å…ˆã®å®šç¾©
  const destinations = [
    NavigationDestination(
      icon: Icon(Icons.people_outline),
      selectedIcon: Icon(Icons.people),
      tooltip: 'Nav A',
      label: 'Nav A',
    ),
    NavigationDestination(
      icon: Icon(Icons.person_outline),
      selectedIcon: Icon(Icons.person),
      tooltip: 'Nav B',
      label: 'Nav B',
    ),
    NavigationDestination(
      icon: Icon(Icons.settings_outlined),
      selectedIcon: Icon(Icons.settings),
      tooltip: 'Nav C',
      label: 'Nav C',
    )
  ];

  // `Scaffold`ã®ä»£ã‚ã‚Šã«`AdaptiveScaffold`ã‚’åˆ©ç”¨
  return AdaptiveScaffold(
    useDrawer: false,
    selectedIndex: ...,
    onSelectedIndexChange: ...,
    // é·ç§»å…ˆã‚’æŒ‡å®šã™ã‚‹ã ã‘ã§ã€ç”»é¢ã‚µã‚¤ã‚ºã«å¿œã˜ã¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’åˆ‡ã‚Šæ›¿ãˆã¦ãã‚Œã‚‹
    destinations: destinations,
    body: (_) => ...,
  );
}
```

:::

![GIFç”»åƒ - ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³è¡¨ç¤ºãŒåˆ‡ã‚Šæ›¿ã‚ã‚‹æ§˜å­](/images/8103e6e5a05ccd/SwitchNavigation.gif)

ç”»åƒã®é€šã‚Šä¸‹è¨˜ã®é †ç•ªã§åˆ‡ã‚Šæ›¿ã‚ã£ã¦ãã‚Œã¾ã™ã€‚

1. NavigationBar
2. NavigationRail
3. NavigationRail (extended)



### ğŸ–¥ï¸ãƒšã‚¤ãƒ³ - Body, SecondaryBody

ç”»é¢å†…ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚°ãƒ«ãƒ¼ãƒ—ã‚’è¡¨ã™éƒ¨åˆ†ã§ã™ã€‚

ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³[^2]ã‚’ç¢ºèªã™ã‚‹ã¨ã€ç”»é¢ã‚µã‚¤ã‚ºã«å¿œã˜ã¦æ§‹æˆã•ã‚Œã‚‹**ãƒšã‚¤ãƒ³ã®æ•°ã‚’å¤‰æ›´ã™ã‚‹ã“ã¨ãŒæ¨å¥¨**ã•ã‚Œã¦ã„ã¾ã™ã€‚

**Compact**

- 1ã¤ã®ãƒšã‚¤ãƒ³ã§æ§‹æˆ

**Medium**

- **1ã¤(æ¨å¥¨)** ã¾ãŸã¯ 2ã¤ã®ãƒšã‚¤ãƒ³ã§æ§‹æˆ

**Expanded**

- 1ã¤ ã¾ãŸã¯**2ã¤(æ¨å¥¨)** ã®ãƒšã‚¤ãƒ³ã§æ§‹æˆ

2ã¤ã®ãƒšã‚¤ãƒ³ã§æ§‹æˆã•ã‚Œã‚‹å ´åˆã€è¡¨ç¤ºå†…å®¹ã«å¿œã˜ã¦ãƒšã‚¤ãƒ³ã®å¹…ã¾ã§æŒ‡æ¨™ã¨ã—ã¦ç”¨æ„ã•ã‚Œã¦ã„ã¾ã™ã€‚

![2ã¤ã®Paneã‚’åˆ©ç”¨ã™ã‚‹å ´åˆã®ç¨®é¡è¡¨](/images/8103e6e5a05ccd/pane_type.png)

ä»Šå›ã¯ä¸€è¦§ç”»é¢ã¨æ˜ç´°ç”»é¢ã‚’ä¾‹ã«ä½œã£ã¦ã„ãã¾ã™ã€‚

#### ğŸ§‘â€ğŸ’»å®Ÿè£…

å…ˆç¨‹ä½œæˆã—ãŸ`AdaptiveScaffold`ã«`body`, `secondaryBody`ãªã©ã‚’æŒ‡å®šã™ã‚‹æ–¹æ³•ã‚‚ã‚ˆã„ã®ã§ã™ãŒã€
å…±é€šã®ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ç®¡ç†ã¨å„ç”»é¢ã§è¡¨ç¤ºã™ã‚‹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒå¯†æ¥ãªé–¢ä¿‚ã«ãªã£ã¦ã—ã¾ã„ã¾ã™ã€‚

ãã®ãŸã‚ã€ãƒšã‚¤ãƒ³ã®åˆ¶å¾¡ã«é–¢ã—ã¦ã¯**ç”»é¢å˜ä½ã§æŒ‡å®š**ã§ãã‚‹ã‚ˆã†ã«ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚

å…ˆç¨‹åˆ©ç”¨ã—ãŸ`AdaptiveScaffold`ã¯ã€`destinations`ã®è¨­å®šãŒå¿…é ˆã¨ãªã£ã¦ã„ã‚‹ãŸã‚åˆ©ç”¨ã§ãã¾ã›ã‚“ã€‚
ãã“ã§`AdaptiveLayout`ã‚’åˆ©ç”¨ã—ã¾ã™ã€‚

`AdaptiveLayout`ã§ã¯ã€ç”»é¢ã‚µã‚¤ã‚ºãŒ**åˆ‡ã‚Šæ›¿ã‚ã‚‹ãƒã‚¤ãƒ³ãƒˆ**ã¨ã—ã¦`BreakPoints`ã‚’å®šç¾©ã—ã€å®šç¾©ã«å¯¾ã—ã¦ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’è‡ªä½œã—ã¦ã„ãæµã‚Œã«ãªã‚Šã¾ã™ã€‚
è‡ªä½œã—ãªãã¦ã¯ãªã‚‰ãªã„éƒ¨åˆ†ãŒå¤šããªã£ã¦ã—ã¾ã„ã¾ã™ãŒã€ã‚ˆã‚Šè‡ªç”±ãªãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’çµ„ã‚€éš›ã«å½¹ç«‹ã¡ã¾ã™ã€‚

ã¾ãšã¯`AdaptiveLayout`ã‚’åˆ©ç”¨ã—ã¦ã€ãƒšã‚¤ãƒ³åˆ¶å¾¡ã‚’è¡Œã†ãŸã‚ã®è‡ªä½œ`Scaffold`ã‚’ä½œæˆã—ã¾ã™ã€‚

:::details AdaptiveLayoutã‚’åˆ©ç”¨ã—ãŸãƒšã‚¤ãƒ³åˆ¶å¾¡ç”¨ã®Scaffold

```dart
class PaneSwitchScaffold extends StatelessWidget {
  const PaneSwitchScaffold({
    super.key = const ValueKey('ScaffoldWithNestedNavigation'),
    required this.body,
    this.secondaryBody,
    this.showSmallSecondary = true,
  });

  final Widget body;
  final Widget? secondaryBody;
  final bool showSmallSecondary;

  @override
  Widget build(BuildContext context) {
    return AdaptiveLayout(
      body: SlotLayout(
        config: <Breakpoint, SlotLayoutConfig>{
          Breakpoints.smallAndUp: SlotLayout.from(
            key: const Key('BodyS'),
            // ä¸€è¦§ç”»é¢ãªã©ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¡¨ç¤ºã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ãŸã‚ã€ã©ã¡ã‚‰ã‚’è¡¨ç¤ºã™ã‚‹ã¹ãã‹é¸æŠã•ã›ã‚‹
            builder: (_) => secondaryBody != null && showSmallSecondary
                ? secondaryBody!
                : body,
          ),
          Breakpoints.large: SlotLayout.from(
            key: const Key('BodyL'),
            builder: (_) => body,
          )
        },
      ),
      secondaryBody: SlotLayout(
        config: <Breakpoint, SlotLayoutConfig>{
          Breakpoints.smallAndUp: SlotLayout.from(
            key: const Key('SecondaryBodyS'),
            builder: null,
          ),
          Breakpoints.large: SlotLayout.from(
            key: const Key('SecondaryBodyL'),
            builder: secondaryBody != null
                ? (_) => secondaryBody!
                : AdaptiveScaffold.emptyBuilder,
          )
        },
      ),
    );
  }
}
```

:::

ã‚ã¨ã¯åˆ©ç”¨ã™ã‚‹ç”»é¢ã§ã€ãƒšã‚¤ãƒ³ã‚’ã©ã®ã‚ˆã†ã«åˆ©ç”¨ã™ã‚‹ã‹ã‚’è¨˜è¼‰ã—ã¦ã„ãã¾ã™ã€‚

:::details ä½œæˆã—ãŸScaffoldã®åˆ©ç”¨æ–¹æ³•

```dart
// ä¸€è¦§ç”»é¢
const PaneSwitchScaffold(
  body: ListPage(),
  // ç©ºè¦ç´ ã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¡¨ç¤º
  secondaryBody: Scaffold(
    body: Center(child: Text('Please select')),
  ),
  showSmallSecondary: false,
);

// è©³ç´°ç”»é¢
PaneSwitchScaffold(
  body: const ListPage(),
  secondaryBody: DetailPage(id: id),
);
```

:::

å°‘ã—ã‚¤ãƒ“ãƒ„ãªã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã«ã¯ãªã‚Šã¾ã™ãŒã€gifã®é€šã‚Šç”»é¢ã‚µã‚¤ã‚ºã«ã‚ã‚ã›ã¦ãƒšã‚¤ãƒ³ãŒåˆ†å‰²ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚

TODOï¼šç”»åƒ

### â•FAB - Floating Action Button

ç”»é¢ä¸Šã§æœ€ã‚‚ä¸€èˆ¬çš„ ã¾ãŸã¯ é‡è¦ãªã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã¯FAB(FloatingActionButton)ã‚’åˆ©ç”¨ã—ã¾ã™ã€‚

Gmailã§ã¯ã€ãƒ¡ãƒ¼ãƒ«ã‚’ä½œæˆã™ã‚‹æ“ä½œã«å‰²ã‚Šå½“ã¦ã‚‰ã‚Œã¦ã„ã¾ã™ã­ã€‚

ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³[^3]ã‚’ç¢ºèªã™ã‚‹ã¨ã€FABã«ã¤ã„ã¦ã‚‚ç”»é¢ã‚µã‚¤ã‚ºã«å¿œã˜ã¦é…ç½®å…ˆã‚’å¤‰æ›´ã™ã‚‹ã“ã¨ãŒæ¨å¥¨ã•ã‚Œã¦ã„ã¾ã™ã€‚

> Expanded window size
> A consistent position for FABs improves discoverability as it appears across a responsive range of layouts. For large screens in the expanded window size class, itâ€™s recommended to place the FAB in the upper left region.

![FABã®é…ç½®](/images/8103e6e5a05ccd/FAB.png)

**Compact, Medium** (ãƒ¢ãƒã‚¤ãƒ«ã€ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆ)

- ç”»é¢å³ä¸‹ã«è¡¨ç¤º

**Expanded** (ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—)

- ç”»é¢å·¦ä¸Šã«è¡¨ç¤º (NavigationRail,Drawerãªã©)

#### ğŸ§‘â€ğŸ’»å®Ÿè£…

æ®‹å¿µãªãŒã‚‰ã€ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã®éš›ã«åˆ©ç”¨ã—ãŸ`AdaptiveScaffold`ã§ã¯**ã¾ã FABã®ã‚µãƒãƒ¼ãƒˆã¯ã•ã‚Œã¦ã„ã¾ã›ã‚“**ã€‚
ã—ã‹ã—ã¾ã£ãŸãå¯¾å¿œã§ããªã„ã¨ã„ã†ã‚ã‘ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚

å…ˆç¨‹ç”»é¢å´ã§åˆ©ç”¨ã—ãŸ`AdaptiveLayout`ã‚’åˆ©ç”¨ã—ã¦ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ç®¡ç†ã‚’æ›¸ãæ›ãˆã‚‹ã“ã¨ã§ã€FABã‚„ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

:::details AdaptiveScaffoldã‹ã‚‰AdaptiveLayoutã¸ã®æ›¸ãæ›ãˆ

```dart
@override
Widget build(BuildContext context) {

  // `AdaptiveScaffold`ã®å†…éƒ¨å®Ÿè£…ã¨åˆã‚ã›ã‚‹ãŸã‚ã€`Scaffold`ã§ãƒ©ãƒƒãƒ”ãƒ³ã‚°
  return Scaffold(
    body: AdaptiveLayout(
      body: ...,

      // ç”»é¢å·¦å´ã«è¡¨ç¤ºã™ã‚‹Navigationé ˜åŸŸ
      primaryNavigation: SlotLayout(
        config: <Breakpoint, SlotLayoutConfig>{
          // ç”»é¢ã‚µã‚¤ã‚ºãŒMediumã®å ´åˆ
          Breakpoints.medium: SlotLayout.from(
            key: const Key('primaryNavigationM'),
            builder: (_) => AdaptiveScaffold.standardNavigationRail(
              // NavigationBarã¨NavigationRailã§å®šç¾©ãŒç•°ãªã‚‹ã®ã§å¤‰æ›ã‚’è¡Œã†
              destinations: _toRailDestinations(destinations),
              selectedIndex: ...,
              onDestinationSelected: ...,
            ),
          ),
          // ç”»é¢ã‚µã‚¤ã‚ºãŒLarge(Expanded)ã®å ´åˆ
          Breakpoints.large: SlotLayout.from(
            key: const Key('primaryNavigationL'),
            builder: (_) => AdaptiveScaffold.standardNavigationRail(
              destinations: _toRailDestinations(destinations),
              extended: true,
              selectedIndex: ...,
              onDestinationSelected: ...,
            ),
          ),
        },
      ),

      // ç”»é¢ä¸‹éƒ¨ã«è¡¨ç¤ºã™ã‚‹Navigationé ˜åŸŸ
      bottomNavigation: SlotLayout(
        config: <Breakpoint, SlotLayoutConfig>{
          // ç”»é¢ã‚µã‚¤ã‚ºãŒSmall(Compact)ä»¥ä¸Šã®å ´åˆ
          Breakpoints.smallAndUp: SlotLayout.from(
            key: const Key('Bottom Navigation Small'),
            inAnimation: AdaptiveScaffold.bottomToTop,
            outAnimation: AdaptiveScaffold.topToBottom,
            builder: (_) => AdaptiveScaffold.standardBottomNavigationBar(
              destinations: destinations,
              currentIndex: ...,
              onDestinationSelected: ...,
            ),
          ),

          // ç”»é¢ã‚µã‚¤ã‚ºãŒMediumä»¥ä¸Šã®å ´åˆ
          Breakpoints.mediumAndUp: SlotLayoutConfig.empty(),
        },
      ),
    ),
  );
}
```

:::

å¾Œã¯`NavigationRail`ã‚’æ™®é€šã«å®Ÿè£…ã™ã‚‹ã®ã¨å¤‰ã‚ã‚Šã¾ã›ã‚“ã€‚

`AdaptiveScaffold.standardNavigationRail`ã®`leading`ã«FABã‚’è¿½åŠ ã—ã¾ã™ã€‚

ä»Šå›ã¯ã‚ã‚ã›ã¦ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒœã‚¿ãƒ³ã‚‚è¿½åŠ ã—ã¦ã¿ã¾ã™ã€‚

:::details FABãŠã‚ˆã³ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®è¿½åŠ 

```dart
AdaptiveScaffold.standardNavigationRail(
    destinations: ...,
    selectedIndex: ...,
    onDestinationSelected: ...,
    // é·ç§»å…ˆã®è¡¨ç¤ºã‚’ä¸­å¤®ã«å›ºå®š
    groupAlignment: 0,
    // ãƒ¡ãƒ‹ãƒ¥ãƒ¼ + FABã‚’å®šç¾©
    leading: Column(
      children: [
        IconButton(onPressed: () {}, icon: const Icon(Icons.menu)),
        const Gap(8),
        FloatingActionButton(
          onPressed: () {},
          child: const Icon(Icons.add),
        )
      ],
    ),
  ),
)
```

:::



## ğŸš©ãŠã‚ã‚Š

TODOï¼šç”»åƒ

ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œã¨ã—ã¦ã¯ã¾ã ã¾ã æ®‹ã£ã¦ã„ã¾ã™ãŒã€ä»Šå›ã®ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œã¯ä»¥ä¸Šã§ã™ã€‚

è‡ªä½œéƒ¨åˆ†ãŒå¤šããªã£ã¦ã—ã¾ã£ãŸã®ã§ã€ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åˆ©ç”¨ã®æ©æµãŒè–„ããªã£ã¦ã„ã‚‹ã‚ˆã†ã«æ„Ÿã˜ã¾ã™ãŒã€
è‡ªå‰ã§ã™ã¹ã¦ã‚’çµ„ã‚“ã§ã„ãã‚ˆã‚Šã¯ã€ã ã„ã¶ã‚«ãƒ³ã‚¿ãƒ³ã«å¯¾å¿œã™ã‚‹ã“ã¨ãŒã§ããŸã¨æ€ã„ã¾ã™ã€‚

ã¾ã ãƒ¡ã‚¸ãƒ£ãƒ¼ãƒªãƒªãƒ¼ã‚¹ã•ã‚Œã¦ã„ãªã„ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãªã®ã§ã€èª²é¡Œã¯ã‚ã‚‹çŠ¶æ…‹ã§ã™ãŒã€
Material3ã®å¯¾å¿œãŒã©ã‚“ã©ã‚“é€²ã‚“ã§ã„ã‚‹çŠ¶æ³ãªã®ã§ã€ã“ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®æ›´æ–°ã‚‚æœŸå¾…ã—ãŸã„ã¨æ€ã£ã¦ã„ã¾ã™ã€‚

ä½œæˆã—ãŸã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã¯Githubã«å…¬é–‹ã—ã¦ã„ã¾ã™ã€‚

## ğŸ™‡ã‚ã¨ãŒã

**æœ€å¾Œã¾ã§ãŠèª­ã¿é ‚ãã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸã€‚**

ç§ã®è·ç¨®ã¯Webã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã§ã€æ¥­å‹™ã§Flutterã‚’è§¦ã‚‹æ©Ÿä¼šã¯ã¾ã£ãŸãã‚ã‚Šã¾ã›ã‚“ã€‚

å€‹äººé–‹ç™ºã§è§¦ã‚‹ç¨‹åº¦ã®ç§ã§ã‚‚ã€Flutterã®é–‹ç™ºã¯ä½¿ã„å‹æ‰‹ãŒã‚ˆãã€é­…åŠ›çš„ã«æ€ã„ã¾ã™ã€‚
~~æ–°ã—ã„ã‚‚ã®å¥½ããªã ã‘ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒ...~~ 

ãƒãƒ«ãƒãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã¸ã®å¯¾å¿œã¨ã—ã¦ã€è¨˜äº‹ã®å†…å®¹ãŒå°‘ã—ã§ã‚‚å‚è€ƒã«ãªã‚Œã°å¹¸ã„ã§ã™ã€‚



[^1]: Common swappable components - <https://m3.material.io/foundations/layout/applying-layout/window-size-classes#ec42735d-d855-4e86-afb6-6762333f0e19>
[^2]: Panes - https://m3.material.io/foundations/layout/understanding-layout/parts-of-layout#667b32c0-56e2-4fc2-a618-4066c79a894e â†©
[^3]: FAB - Responsive layout - https://m3.material.io/components/floating-action-button/guidelines#34a9762a-b855-465d-9263-650b81a05f42
